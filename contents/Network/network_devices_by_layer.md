# 📚 네트워크 계층별 기기
네트워크 기기는 계층별로 처리의 범위가 다릅니다.    
상위 계층을 처리하는 기기는 하위계층을 처리할 수 있지만, 반대의 상황은 불가능합니다. 

## 📖 계층별 장비
- 애플리케이션 계층 : L7 스위치
- 전송 계층 : L4 스위치
- 네트워크 계층 : 라우터, L3 스위치
- 데이터 링크 계층 : L2 스위치, 브리지
- 물리 계층 : NIC, 리피터, 허브

</br>

## 📖 애플리케이션 계층 처리 기기
### 📍 L7 스위치
- L7 스위치는 OSI 7계층에서 동작하는 스위치   
- L4 스위치의 기능과 더불어 응용계층의 내용을 분석해 데이터를 분산해서 전송   
- 특정 사용자와 서버 연결을 유지하는 기능을 수행
- URL의 헤더, FTP에서 전송하는 바이너리 등을 분석하고 종합하여 불필요 트래픽에 대한 차단 기능을 지원   
- HTTP의 URL, FTP 쿠키 정보 및 바이러스 패턴을 분석하여 보안에 더 유리하고 정교한 로드 밸런싱이 가능   

> **로드밸런싱이란?**   
시스템에 대한 요청을 여러 서버에 분산해 트래픽의 균형을 조절하는 기술   

- 다만 데이터 페이로드 분석에 많은 자원 소모를 보여 병목현상을 일으킬 수 있음

</br> 



## 📖 전송 계층 처리 기기
### 📍 L4 스위치
-  TCP/UDP 헤더 등 프로토콜 헤더의 내용을 해석하고 지정된 알고리즘을 근거해 데이터를 분산해서 전송
-  부하 분산, 성능 최적화, 리다이렉션 기능을 제공 
- VIP(Virtual IP)를 통해 특정 포트에 집중되는 서비스를 여러 서버로 분산 처리하는 로드 밸런싱 기능을 지원  
- L4 스위치가 동작하려면 아래 4가지를 설정해야 한다
    - 가상 서버(Virtual Server) : 사용자 바라보는 실제 서비스
    - 가상 IP(Virtual IP) : 사용자가 접근해야 하는 서비스 IP 주소
    - 리얼 서버(Real Server) : 실제 서비스를 수행하는 서버   
    - 리얼 IP(Real IP) : 실제 서버의 IP
- 로드밸런싱 방법으로 라운드로빈과 최소 연결 방식 사용   
> **라운드 로빈 방식이란?**   
순서대로 할당하는 방식으로 트래픽이 몰려도 하단의 서버 상태는 상관하지 않는 방식

> **최소 연결 방식이란?** 
최소 연결은 가장 커넥션이 적은 곳으로 데이터를 분산하여 각 분산처의 부하를 평준화하는 방식  

</br> 


## 📖 네트워크 계층 처리 기기
### 📍L3 스위치
- L3 스위치는 L2 스위치에서 다른 네트워크를 연결하는 기능이 추가
- IP 주소를 기반으로 라우팅이 가능
- 트래픽이 거치는 노드가 줄어 속도가 빨라짐
- 캡슐화, 역캡슐화 과정이 줄어듦
- 특정 포트는 L2로 사용하고 특정 포트는 L3로 사용하는 등 브로드캐스트 도메인 구성이 용이함
- 라우터에도 네트워크를 연결하는 기능이 있지만 L3 스위치와의 차이점으로는 포트가 많다는 특징이 있음

</br> 


### 📍라우터
- 네트워크 경로 구성에 특화된 장비
- 전화회선이나 이더넷 뿐만 아니라 광회선과 같은 다양한 회선을 수용할 수 있음
- 보안 측면에서 강함
- 송수신 일관성 검사나 위조 방지 같은 패킷 체크 기능이 뛰어남
- 최근에는 기술의 발전으로 L3 스위치와 라우터를 구분하기 어려움

</br> 

## 📖 데이터 링크 계층 처리 기기
### 📍 L2 스위치

- mac 주소에 따라 데이터(패킷)를 전송 -> 이더넷 레벨로 동작
- L2 스위치 이전에는 리피터를 사용 
- 리피터는 모든 포트에 같은 데이터를 보내고 목적지가 일치하는 컴퓨터의 데이터를 받는 방식으로 동작헤 필요없는 데이터를 많이 전송함
- L2 스위치는 목적지의 MAC 주소를 기억해 해당 포트에만 데이터를 보낼 수 있어 효율적 통신이 가능

</br> 

### 📍 브리지
- LAN과 LAN을 연결하고나 LAN 안에서 컴츄터 그룹을 연결하는 기능을 수행
- MAC 계층에서 사용되어 MAC 브리지라고도 함
- 병목현상을 줄일 수 있고 네트워크 분산이 가능해 보안성을 높일 수 있음


## 📖 물리 계층 처리 기기
### 📍 NIC
- 네트워크 인터페이스 카드로 컴퓨터와 컴퓨터의 네트워크를 연결하는 장치
- 정보 전송 시 정보가 케이블을 통해 전송될 수 있도록 정보 형태를 변경
- 이더넷 카드나 네트워크 어댑터라고도 불림 


</br> 

### 📍 리피터
- 약해진 신호의 잡음을 제거하고 증폭, 재전송을 하는 장비
- 물리계층에서 동작하는 장치이고 근접한 네트워크 사이의 신호를 전송하는 역할 
- 전송 거리의 연장이나 배선의 자유도를 높이기 위해 사용

</br> 

### 📍 허브
- 네트워크에 연결된 기기간의 데이터 전송 담당
- 허브는 데이터의 출발지와 목적지에 대한 정보를 알 수 없음
- 따라서 해당 데이터를 네트워크 내의 모든 기기에 전달 -> 성능이 낮고 비효율적
- [데이터 충돌이 발생할 가능성이 높음](the_role_of_network_switches.md)
- 설치 및 구성이 간편하고 가격이 저렴


</br> 
</br> 





## 🗂️ 참고
[네트워크 계층별 기기 처리 참고](https://velog.io/@haru/network-device)

[OSI 계층별 장치 참고](https://yummy0102.tistory.com/672)
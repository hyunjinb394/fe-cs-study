# π“ TLS HandShake μ§„ν–‰ κ³Όμ •
μ›Ή μ„λ²„μ— λ°μ΄ν„°λ¥Ό μ „μ†΅ν• λ• μ•”νΈν™”ν•΄μ„ μ •λ³΄μ κΈ°λ°€μ„±μ„ ν™•λ³΄ν•κΈ° μ„ν•΄μ„ HTTPS ν”„λ΅ν† μ½μ΄ λ§λ“¤μ–΄μ§    
HTTPSλ” SSL/TLS κµ¬μ΅°λ΅ κµ¬ν„λ¨


## π“– SSL / TLS λ€?
- ν†µμ‹ μ„ μ•”νΈν™”ν•΄μ„ μ μ‚Όμκ°€ ν†µμ‹  λ‚΄μ©μ„ ν›”μ³λ³΄κ±°λ‚ μ΅°μ‘ν•  μ μ—†κ²ν•λ” κΈ°μ 
- ν„μ¬ μ‚¬μ©λλ” κΈ°μ μ€ SSLμ΄μ•„λ‹ **TLS**, λ…μΉ­μ΄ λ³€κ²½λ¨
- SSLμΈμ¦μ„λ¥Ό λ°κΈ‰ν•΄μ•Ό HTTPS μ›Ήμ‚¬μ΄νΈλ¥Ό μ΄μ© κ°€λ¥
- SSLμ„ μ‚¬μ©ν•΄ λ°μ΄ν„°λ¥Ό μ•”νΈν™”ν•κ³  λ„λ©”μΈ μ†μ λ¥Ό μ¦λ…ν•  μ μμ

</br>

## π“– TLS μ„λΉ„μ¤
### π“ μ•”νΈν™”
- λ°μ΄ν„°λ¥Ό νƒ€μΈμ΄ μ•μ•„λ³΄ μ μ—†λ„λ΅ λ§λ“¦
- TLS ν•Έλ“μ…°μ΄ν¬ λ°©μ‹μ—μ„ **κ³µκ°ν‚¤ μ•”νΈν™”**λ¥Ό μ‚¬μ©
- μ„λ΅μ— λ€ν• μ •λ³΄ μ—†μ΄λ„ λΉ„λ°€ν‚¤λ¥Ό ν‘μƒν•κ±°λ‚, μ•”νΈν™” λμ§€ μ•μ€ μ±„λ„μ—μ„ μ΄ μ μ°¨λ¥Ό μν–‰ κ°€λ¥

</br> 

### π“ μΈμ¦
- μ κ³µλ μ‹λ³„ μ •λ³΄μ μ§„μ„ μ—¬λ¶€ ν™•μΈ
- ν•Έλ“μ…°μ΄ν¬λ¥Ό μ§„ν–‰ν• λ• μ»¤λ„¥μ… ν”Όμ–΄λ” μμ‹ μ μ‹λ³„μ •λ³΄λ¥Ό μΈμ¦
- ν΄λΌμ΄μ–ΈνΈμ—κ² μ„λ²„μ μ •μ²΄λ¥Ό ν™•μΈ μ‹μΌμ¤μΌλ΅μ¨ μ„λ²„μ μ΄λ¦„κ³Ό IPμ£Όμ†λ¥Ό λ„μ© λ° μ‚¬μΉ­ν•λ” Spoofingμ„ λ§‰μ
- μ„λ²„ λν• ν΄λΌμ΄μ–ΈνΈμ μ •μ²΄λ¥Ό ν™•μΈ κ°€λ¥

</br> 

### π“ λ¬΄κ²°μ„±
- λ©”μ‹μ§€κ°€ λ¬΄λ‹¨μΌλ΅ λ³€κ²½, μ„μ΅°λμ—λ”μ§€ ν™•μΈ
- μμ²΄μ μΌλ΅ λ¨λ“  λ©”μ‹μ§€μ— μΈμ¦μ½”λ“(MAC)μ„ λ¶€μ—¬
- μμ‹ μλ” MAC κ°’μ„ ν†µν•΄μ„ λ©”μ‹μ§€μ λ¬΄κ²°μ„±μ„ ν™•μΈ

</br> 


## π“– TLS Hand Shake
### π“ κ³Όμ •
1. **μ•”νΈν™” ν„°λ„ ν•μ„±** : ν΄λΌμ΄μ–ΈνΈμ™€ μ„λ²„λ” TLS ν”„λ΅ν† μ½μ λ²„μ „κ³Ό μ•”νΈ λ°©μ‹μ„ ν•©μ, ν•„μ”ν• κ²½μ° μΈμ¦μ„ ν™•μΈ
2. **TCPμ 3-Way ν•Έλ“μ…°μ΄ν¬ μ™„λ£**
3. **Client Hello** : TCP μ—°κ²° μ™„λ£μ‹ ν΄λΌμ΄μ–ΈνΈμ TLS ν”„λ΅ν† μ½μ λ²„μ „, μ•”νΈν™” λ°©μ‹, Session ID λ“±μ„ μΌλ° ν…μ¤νΈλ΅ μ „μ†΅
4. **Server Hello -> Server Certificate -> Hello Done**
    - Client Helloμ— λ€ν• μ‘λ‹µ
    - ν΄λΌμ΄μ–ΈνΈκ°€ μ μ‹ν• TLS λ²„μ „, μ•”νΈν™” λ°©μ‹μ„ μ„ νƒ ν›„ μ •λ³΄λ¥Ό μΈμ¦μ„μ— μ²¨λ¶€ν•΄ ν΄λΌμ΄μ–ΈνΈμ—κ² μ „μ†΅
    - μ„λ²„μ μΈμ¦μ„λ¥Ό ν΄λΌμ΄μ–ΈνΈμ—κ² λ³΄λ‚΄κ³  ν΄λΌμ΄μ–ΈνΈλ” μ„λ²„μ μΈμ¦μ„κ°€ λ¬΄κ²°ν•μ§€ κ²€μ¦
5. **Client Key Exchange**
    - μƒ λ€μΉ­ν‚¤λ¥Ό λ§λ“¤μ–΄ μ„λ²„μ κ³µκ°ν‚¤λ΅ μ•”νΈν™”
    - ν΄λΌμ΄μ–ΈνΈλ” ν‚¤ κµν™μ— ν•„μ”ν• μ •λ³΄λ¥Ό μ„λ²„μ— μ κ³µ
    - λ‚μλ¥Ό μ΅°ν•©ν•΄ μƒμ„±ν• pre-master secret κ°’μ„ κ³µκ°ν‚¤λ΅ μ•”νΈν™”ν•΄μ„ μ „μ†΅
    - μ„λ²„λ” κ°μΈν‚¤λ΅ λ‚μλ¥Ό λ³µνΈν™” κ°€λ¥
    - μ΄ κ°’μ„ ν†µν•΄μ„ μ„Έμ…μ— μ‚¬μ©λ  ν‚¤λ¥Ό μƒμ„±
6. **Server & Client : Change Cipher Spec**
    - μ΄μ λ¶€ν„°λ” λ¨λ“  ν¨ν‚·μ€ ν‘μƒλ μ•κ³ λ¦¬μ¦κ³Ό ν‚¤λ¥Ό ν†µν•΄μ„ μ•”νΈν™”ν•λ‹¤λ” κ²ƒμ„ μ•λ¦¬λ” λ©”μ‹μ§€
7. **Server & Client : Finished**
    - ν•Έλ“μ…°μ΄ν¬λ¥Ό μ„±κ³µμ μΌλ΅ λ§μΉκ³  μΆ…λ£

</br>

### π“ TLS μ„Έμ…
- λ§¤λ² μ—°κ²°μ‹ λ§λ‹¤ ν•Έλ“μ…°μ΄ν¬ κ³Όμ •μ„ μ§„ν–‰ν•λ” κ²ƒμ€ λΉ„ν¨μ¨μ 
- TLS ν•Έλ“μ…°μ΄ν¬λ” μ¶”κ°€ λ μ΄ν„΄μ‹μ™€ μ—°μ‚°μ²λ¦¬ λΉ„μ© μ¦κ°€μ™€ κ°™μ€ μ„±λ¥μ €ν•λ¥Ό μΌμΌν‚΄
- λ¬Έμ  ν•΄κ²°μ„ μ„ν•΄ TLSλ” μµμ΄ ν•Έλ“μ…°μ΄ν¬ κ³Όμ • μ§„ν–‰ ν›„ Session IDλ¥Ό κ°€μ§€κ³  ν¨ν‚· μ „μ†΅μ„ μ§„ν–‰
- μ„λ²„μ—μ„ λ°›μ€ Session IDκ°€ μ ν¨ν•λ‹¤λ©΄ λ™μΌν• Session IDλ¥Ό λ‹¤μ‹ μ „μ†΅
- Session IDλ¥Ό ν†µν•΄μ„ μ™•λ³µ μ‹κ°„μ„ μ¤„μ΄κ³ , κ³µκ°ν‚¤ ν‘μƒ μ‹ λ°μƒν•λ” μ¤λ²„ν—¤λ“λ¥Ό μ—†μ•¨ μ μμ
- λ‹¤λ§ μ„λ²„κ°€ λ¨λ“  ν΄λΌμ΄μ–ΈνΈλ§λ‹¤ μ„Έμ… μΊμ‹λ¥Ό μƒμ„±ν•κ³  κ΄€λ¦¬ν•΄μ•Όν•¨


</br>

## π—‚οΈ μ°Έκ³ 
[λ„¤νΈμ›ν‚Ήκ³Ό μ›Ή μ„±λ¥ μµμ ν™” κΈ°λ²• - 4μ¥ μ „μ†΅ κ³„μΈµ λ³΄μ•](https://www.yes24.com/Product/Goods/22884121)

[TLS-HandShakeλ” μ–΄λ–»κ² μ§„ν–‰λλ”κ°€?](https://sunrise-min.tistory.com/entry/TLS-Handshake%EB%8A%94-%EC%96%B4%EB%96%BB%EA%B2%8C-%EC%A7%84%ED%96%89%EB%90%98%EB%8A%94%EA%B0%80)